% !TeX root = ../CCNUthesis-doc.tex

\subsection{关于 \CTeX 套装的相关问题}

关于 \CTeX 套装、\CTeX 宏集等一些相关用语的区别，可以看慕子写的 \href{https://zhuanlan.zhihu.com/p/45350320}{[LaTeX 漫谈] 我使用的 LaTeX 术语中文规约}。

\subsubsection{为什么不推荐安装 \CTeX 套装了？}

\CTeX 套装最早是由中科院 Leo Wu（吴凌云）研究员开发、维护和发布的 \TeX{} 发行版，它是应当时中文配置困难的背景（CCT、CJK 等）而诞生的，而现在的中文支持技术（xeCJK等）配置已非常简单；

\CTeX 套装自 2012 年 3 月 22 日发行 2.9.2.164 版本后，至今未更新，已不能适应当前 TeX 中文技术的发展，引用 \CTeX 套装的开发者之一刘海洋的话：
\begin{latexexample}
  CTeX 已经完成了它的历史使命。
\end{latexexample}


\subsubsection{\CTeX 套装的问题}

\begin{itemize}
  \item 最主要的bug是：在一定条件下，\CTeX 套装在安装时会抹掉系统环境变量，造成一定损失（有可能会引起一些程序不能运行或者是运行出错（只是有可能，具体视情况而定，但是这个可能性就已经是个问题了））
  \item 版本落后：\CTeX 套装的「最新版本」发布于 2012 年 3 月。除了新增的功能用不上、已经修复的 bug 避免不了，还可能遇到
    \begin{itemize}
      \item 提问不易收到回答（因为社区活跃用户中 \CTeX 套装的比例极低，帮忙解答时复现问题的成本高），
      \item 与 \CTeX 套装有关的正确有效的网络资源少（英文资源几乎为零）等等弊端。
    \end{itemize}
  \item 乱码问题，2017 届使用 \CTeX 套装模版的同学毕业论文查重结果普遍出现乱码现象
  \item 中英文混排问题、数学式和中文混排的空格处理比较麻烦
  \item 系统问题。不支持 mac 系统，虚拟机的安装配置或更换电脑增加了用户的学习成本。
\end{itemize}


\subsubsection{关于 \CTeX 套装我想说的}

\begin{itemize}
  \item 我们不再推荐 \CTeX 套装，并不是想否定它在早些年的“丰功伟绩”，只是它的使命在现代 \LaTeX 使用中已经基本结束了（除非你要投稿一些中文核心期刊，要求得安装，那没办法），它更像是一个 \LaTeX 在中国传播过程中的一个开拓者，它的作用是绝对不可磨灭的，但我相信，如果它有自己的想法的话，也会希望后人能够用更好更高效的方式使用 \LaTeX
  
  \item 分享一段话
    \begin{latexexample}[gobble = 6]
      另一方面，从用户社区的问答中可以观察到，一些 \CTeX 套装的老用户，其 LaTeX 的使用水平尚有很大进步空间，少数用户一直在以不推荐、甚至绝对错误的方式编写 tex 文件。这里有必要给新用户提个醒：你身边的老用户，不一定比网线另一端的老用户，更熟练、更专业；看「独家祖传文档」，不如看更方便获取的、更正式的文档。
      —— 2018年，为什么不推荐使用 CTeX 套装了(https://zhuanlan.zhihu.com/p/45174503)
    \end{latexexample}
  
    \CTeX 套装的很多使用方式在现代 \LaTeX 使用观点看是不推荐甚至是错误的，例子就是邓国泰老师在模版培训提到的一些使用，我列举了部分和现代 \LaTeX 使用有较大出入的部分进行讲解：
  
  \item 如果因为某些不可抗力的原因一定要安装 \CTeX 套装
    \begin{itemize}
      \item 请\emph{备份好环境变量}（自行查找资料）
      \item 并尝试更新全部宏包，但编译出偏差须自行负责：
        \begin{enumerate}
          \item 运行cmd，输入mpm命令
          \item 进入 Repository 菜单 → 选择 Change Package Repository → 选择 Packages shall be installed from the Internet → 选择一个可用的地址
          \item 更新 CTeX 宏包。
        \end{enumerate}
    \end{itemize}
    
  \item 如果没有备份环境变量的结果可以看看这个 \href{https://github.com/CTeX-DEV/CTeX/issues/19}{issue} 来了解后果。
\end{itemize}


更多细节可以参考下面的几篇：

\begin{itemize}
  \item \href{https://zhuanlan.zhihu.com/p/45174503}{[LaTeX 发行版] 2018年，为什么不推荐使用 \CTeX 套装了}
  \item \href{https://zhuanlan.zhihu.com/p/73304856}{[LaTeX 期刊模板] els-cas-templates 不支持 \CTeX 套装}
  \item \href{https://zhuanlan.zhihu.com/p/112637535}{[LaTeX 期刊模板] siamart 不支持 \CTeX 套装}
  \item \href{https://tieba.baidu.com/p/2665622350}{不推荐 \CTeX 套装作为入门}
\end{itemize}


\subsubsection{如果安装了 \CTeX 套装怎么办？}

先明确你要使用哪个模版，旧模版还是 \cls{CCNUthesis}，二者可以兼容，但需要处理环境变量，具体看 ljguo 的博客 \href{https://ljguo1020.github.io/2022/06/09/texlive-and-ctex/}{Windows 系统下 \TeXLive 与 \CTeX 套装共存}。

如果要用旧模版，那么一切使用和问题请找邓国泰老师。

如果确定要使用 \cls{CCNUthesis}，卸载掉 \CTeX 套装（除非你要投稿中文核心期刊），然后跟着 \href{https://gitee.com/OsbertWang/install-latex-guide-zh-cn/releases}{install-latex-guide-zh-cn} 文档正确安装 \TeXLive 。


但是卸载 \CTeX 套装并安装了 `TeX Live`后，用户可能会发现无法编译参考文献（但是正常的 `xelatex` 编译是可行的），这个时候参考
\href{https://gitee.com/xkwxdyy/CCNUthesis/wikis/%E5%8D%B8%E8%BD%BD%E4%BA%86CTeX%E5%A5%97%E8%A3%85%E5%AE%89%E8%A3%85%E4%BA%86TeXLive%E5%8D%B4%E6%97%A0%E6%B3%95%E7%BC%96%E8%AF%91%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE}{卸载了 CTeX 套装，安装了 TeX Live 却无法编译参考文献怎么办？}


\subsubsection{\cls{CCNUthesis} 模版和 \CTeX 套装写的旧模版相比有什么优点}

\CTeX 套装写的旧模版的问题除了上面 \CTeX 套装本身的问题外，还有
\begin{enumerate}
  \item 用户界面的接口设计的不好，有许多不该在正文出现的 \tn{def} 命令（\cls{CCNUthesis} 的用户接口见 \file{main.tex}）
  \item 如果去读旧模版的源码会发现一些处理并不当，这些讨论均在 \href{https://gitee.com/xkwxdyy/CCNUthesis/wikis/%E6%97%A7%E6%A8%A1%E7%89%88%E7%9A%84%E9%97%AE%E9%A2%98%E5%92%8C%E6%96%B0%E6%A8%A1%E7%89%88%E7%9A%84%E5%A4%84%E7%90%86}{旧模版的问题和新模版的处理}
\end{enumerate}

\cls{CCNUthesis} 模版的优点概括起来主要有
\begin{enumerate}
  \item Windows, Mac, Linux 平台均可使用
  \item 极大分离了内容和样式，提供了丰富且详细的接口，让用户更专注于内容创作本身，极大提高了用户使用 \LaTeX{} 撰写论文的效率。
  \item 极大地优化了旧模版中的 bug 和一些使用问题，详细见 \href{https://gitee.com/xkwxdyy/CCNUthesis/wikis/%E6%97%A7%E6%A8%A1%E7%89%88%E7%9A%84%E9%97%AE%E9%A2%98%E5%92%8C%E6%96%B0%E6%A8%A1%E7%89%88%E7%9A%84%E5%A4%84%E7%90%86}{旧模版的问题和新模版的处理}
\end{enumerate}